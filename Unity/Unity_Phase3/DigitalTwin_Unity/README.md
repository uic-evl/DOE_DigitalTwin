# Unity Phase 3

## Overview 
This is a sample scene that uses the Unity Robotics Hub URDF importer to import the Elephant Robotics Arm and control it either through Isaac Sim or the Elepahnt Robotics ROS2 nodes. 

This project requires an Isaac Sim counterpart scene. You can find this on Spirit's Nucleus under `/Projects/Digital Twin/unity_connection/pos_from_unity.usd`

ZMQ-Unity code adapted from [gench23's repo](https://github.com/gench23/unity-zeromq-client)
ROS-Unity ArticulationBody control code adapted from [bryceikeda's repo](https://github.com/bryceikeda/SpotTutorial)

## Project Contents

Within the "Assets" folder, you will find the [typical Unity folder structure](https://github.com/uic-evl/digital-twin/tree/main/Unity#file-structure), with some additions related to the ROS Connection package. 

* `RosMessages`:
  * This folder is autogenerated as ROS messages are added as instructed [on our wiki](https://github.com/uic-evl/digital-twin/wiki/Connecting-Unity-to-ROS2-on-Ubuntu-and-Windows-10). 
  * If you need to create a RosMessage object, you can look for the constructors and class details in this folder. 
* `Scenes`:
  * `Bidirectional_ROS2`: 
    * Sample scene with a ROSPublisher and ROSSubscriber to control the arm from either the [Elephant Robotics ROS2 nodes](https://github.com/elephantrobotics/mycobot_ros2) or from Unity using [Unity's URDF controller script](https://github.com/Unity-Technologies/Unity-Robotics-Hub/blob/main/tutorials/urdf_importer/urdf_tutorial.md#using-the-controller). 
  * `Bidirectional_ZMQ`:
    * Sample scene to control the arm with Unity and Omniverse using ZMQ to pass data between applications. 
* `Scripts`:
  * `OV_ZMQ`: Scripts related to the `Bidirectional_ZMQ` scene
  * `PythonUtils`: Various python scripts used either for debugging or within Isaac Sim
    * Omniverse Scripts:
        * `get_pos_unity.py` is applied to the IK Target in OVIS. It gets the IK Target coordinates from Unity and applies them to the IK Target in OVIS. 
        * `send_joints.py` is applied to the robot xform in OVIS. It sends the joint angles from the OVIS IK calculation to Unity. 
    * Debugging Tools:
        * `pubsub_client.py` is a simple ZMQ client/consumer/subscriber.
        * `pubsub_server.py` is a simple ZMQ server/producer/publisher.
  * `ROS2`: Scripts related to the `Bidirectional_ZMQ`scene

## ROS2 Scene



## ZMQ Scene